
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Phil Cooper-King</title>
  <meta name="author" content="Phil CK">

  
  <meta name="description" content="I&#8217;ve been trying to make my own unit testing suite for some cpp, I&#8217;m fairly happy with it so far. 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://PhilCK.github.com/blog/page/2/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Phil Cooper-King" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">PCK</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">Phil Cooper-King</a></h1>
  
    <h2>Game Development Foobar.</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:PhilCK.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about/">About</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/12/28/cpp-unit-test/">C++ Unit Testing</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-12-28T22:57:00+00:00" pubdate data-updated="true">Dec 28<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been trying to make my own unit testing suite for some cpp, I&#8217;m fairly happy with it so far.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="n">TEST</span><span class="p">(</span><span class="n">ThisIsYourAssertCheck</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">SomeObj</span> <span class="n">obj</span><span class="p">;</span>
</span><span class='line'>    <span class="n">ASSERT_CHECK</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">exists</span><span class="p">());</span> <span class="c1">// Checks for true.</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">TEST</span><span class="p">(</span><span class="n">ThisIsYourEqualCheck</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">SomeObj</span> <span class="n">obj</span><span class="p">;</span>
</span><span class='line'>    <span class="n">ASSERT_EQUAL</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">health</span><span class="p">(),</span> <span class="mi">100</span><span class="p">);</span> <span class="c1">// Checks for equality.</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">TEST</span><span class="p">(</span><span class="n">ThisIsYourRangeCheck</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">SomeObj</span> <span class="n">obj</span>
</span><span class='line'>    <span class="n">ASSERT_RANGE</span><span class="p">(</span><span class="n">obj</span><span class="p">.</span><span class="n">speed</span><span class="p">(),</span> <span class="mf">10.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">);</span> <span class="c1">// Checks that speed is within 0.5 of 10.5.</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Whole thing can be found <a href="https://gist.github.com/1534852" title="Unit Tester">here.</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/10/01/lua-proof-of-concept/">Lua Proof of Concept</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-10-01T19:58:00+01:00" pubdate data-updated="true">Oct 1<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As part of our group-project in uni, we looked into the possibility of using <a href="http://www.lua.org/" title="Lua">Lua</a> embedded with our framework, which was built upon <a href="http://www.libgosu.org/" title="Gosu">Gosu</a>.
There was a desire to use Lua to speed up iteration speeds, and also to include non-programmer types in the development of the game.
The actual embededing of Lua and <a href="http://www.rasterbar.com/products/luabind.html" title="LuaBind">Luabind</a> was relatively easy, the hard part came in the finicky little bits of LuaBind, and the difficulty of of debugging Lua scripts.</p>

<iframe src="http://player.vimeo.com/video/31367803" width="500" height="375" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>


<p>We ended up ditching Lua for two reasons, its drain on my time, and the lack of interest (although initially shown) from the non-programmer&#8217;s in the group to use it.</p>

<p>I’d like to revisit this some day though.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/09/18/quadtree/">Quadtree</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-09-18T19:58:00+01:00" pubdate data-updated="true">Sep 18<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This was my first attempt at using a some sort of spatial partitioning system to divide up the world.</p>

<p><img src="/post_images/SideProjects/quad_tree.png" title="'Quadtree'" ></p>

<p>When a certain number of objects enter a leaf, the tree will subdivide, if an object is on the border of two leafs it will defer to the parent node. All in all it was quite easy to make this dynamic quadtree, there are a few improvements however that could be done, such as re-centering the tree to try and balance it out.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/08/18/isometric-level-editor/">Isometric Level Editor</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-08-18T19:58:00+01:00" pubdate data-updated="true">Aug 18<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This was a little bit of fun. I made this Minecraft inspired isometric level editor, I was planning on making it a game but decided against it in the end. Still I think it came out nice :)</p>

<p><img src="/post_images/SideProjects/iso_editor.png" title="'Iso Editor'" ></p>

<p>It was writen in Ruby using <a href="http://www.libgosu.org" title="Gosu">Gosu</a> for the output.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/05/05/isometric-perspective/">Isometric Perspective</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-05-05T19:59:00+01:00" pubdate data-updated="true">May 5<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is a quick overview on how to achieve an isometric perspective.
The example code is written in Ruby, it also assumes you know how to draw an image onto the screen, as this tutorial is just an overview. It should be quite easy to re-write this in the language of your choice, Ruby is easy to read.</p>

<h3>Square Tiles</h3>

<p>I’ll use this map data for this article.
A 3 x 3 array, containing the symbol :grass.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="vi">@level_data</span> <span class="o">=</span> <span class="o">[</span>
</span><span class='line'>   <span class="o">[</span><span class="ss">:grass</span><span class="p">,</span> <span class="ss">:grass</span><span class="p">,</span> <span class="ss">:grass</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>   <span class="o">[</span><span class="ss">:grass</span><span class="p">,</span> <span class="ss">:grass</span><span class="p">,</span> <span class="ss">:grass</span><span class="o">]</span><span class="p">,</span>
</span><span class='line'>   <span class="o">[</span><span class="ss">:grass</span><span class="p">,</span> <span class="ss">:grass</span><span class="p">,</span> <span class="ss">:grass</span><span class="o">]</span>
</span><span class='line'><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>Assuming you have a square tile how would we draw a plane old top down tile view like this. We loop through the array multiplying the coordinates of the array with the height and width of the tile.</p>

<p><img src="/post_images/IsoTutorial/sq_tiles.png" title="'How tiled squares might look.'" ></p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Tile</span><span class="o">::</span><span class="no">WIDTH</span>  <span class="o">=</span> <span class="mi">64</span>
</span><span class='line'><span class="no">Tile</span><span class="o">::</span><span class="no">HEIGHT</span> <span class="o">=</span> <span class="mi">64</span>
</span><span class='line'><span class="k">def</span> <span class="nf">draw</span>
</span><span class='line'>   <span class="vi">@level_data</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">y</span><span class="o">|</span>
</span><span class='line'>      <span class="vi">@level_data</span><span class="o">[</span><span class="n">y</span><span class="o">].</span><span class="n">length</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
</span><span class='line'>         <span class="c1"># multiply the array index with HEIGHT and WIDTH</span>
</span><span class='line'>         <span class="n">coord_x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="no">Tile</span><span class="o">::</span><span class="no">WIDTH</span>
</span><span class='line'>         <span class="n">coord_y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">*</span> <span class="no">Tile</span><span class="o">::</span><span class="no">HEIGHT</span>
</span><span class='line'>         <span class="no">Tile</span><span class="o">::</span><span class="n">draw</span><span class="p">(</span><span class="n">coord_x</span><span class="p">,</span> <span class="n">coord_y</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is in fact 80% of the way there.</p>

<h3>Switching To Isometric Tiles</h3>

<p>Next we are going to switch to isometric tiles. First you need to create an isometric tile in some sort of editor (Photoshop etc.). Isometric tiles are a diamond shape thats width is twice the height.</p>

<p><img src="/post_images/IsoTutorial/iso_tile.png" title="'How an Iso tile might look.'" ></p>

<p>Also we are going to redeﬁne Tile::HEIGHT then try again.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Tile</span><span class="o">::</span><span class="no">WIDTH</span>  <span class="o">=</span> <span class="mi">64</span>
</span><span class='line'><span class="no">Tile</span><span class="o">::</span><span class="no">HEIGHT</span> <span class="o">=</span> <span class="no">Tile</span><span class="o">::</span><span class="no">WIDTH</span> <span class="o">/</span> <span class="mi">2</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then using the code from the ﬁrst part (and assuming you now have a tile that is 64 wide and 32 high.) we should get an image like this. Ah, somethings not quite right, but its almost there.</p>

<p><img src="/post_images/IsoTutorial/iso_tiles.png" title="'How an Iso tiles might look.'" ></p>

<h3>Line Up The Horizontal Tiles Correctly</h3>

<p>Here we are left with a choice on how to arrange our data, I’ll show you both and leave it to you to decide which is more suitable for your game. For both methods we need to offset the rows so it will ﬁt. We need to shift it by half with width, I’ve added a new constant for clarity.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Tile</span><span class="o">::</span><span class="no">HALF_WIDTH</span> <span class="o">=</span> <span class="no">Tile</span><span class="o">::</span><span class="no">WIDTH</span> <span class="o">/</span> <span class="mi">2</span>
</span></code></pre></td></tr></table></div></figure>


<p>First you can shift only the odd (or even) rows.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">draw</span>
</span><span class='line'>   <span class="vi">@level_data</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">y</span><span class="o">|</span>
</span><span class='line'>      <span class="vi">@level_data</span><span class="o">[</span><span class="n">y</span><span class="o">].</span><span class="n">length</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
</span><span class='line'>         <span class="n">coord_x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="no">Tile</span><span class="o">::</span><span class="no">WIDTH</span>
</span><span class='line'>         <span class="n">coord_y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">*</span> <span class="no">Tile</span><span class="o">::</span><span class="no">HEIGHT</span>
</span><span class='line'>         <span class="c1"># check to see if y if odd or even, then adds the offset.</span>
</span><span class='line'>         <span class="k">if</span> <span class="p">(</span><span class="n">y</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">!=</span> <span class="mi">0</span>
</span><span class='line'>            <span class="n">coord_x</span> <span class="o">+=</span> <span class="no">Tile</span><span class="o">::</span><span class="no">HALF_WIDTH</span>
</span><span class='line'>         <span class="k">end</span>
</span><span class='line'>         <span class="no">Tile</span><span class="o">::</span><span class="n">draw</span><span class="p">(</span><span class="n">coord_x</span><span class="p">,</span> <span class="n">coord_y</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This should give you something like this.The alternative is we could offset every row.</p>

<p><img src="/post_images/IsoTutorial/iso_tiles_align_a.png" title="'One alignment option.'" ></p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">draw</span>
</span><span class='line'>   <span class="vi">@level_data</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">y</span><span class="o">|</span>
</span><span class='line'>      <span class="vi">@level_data</span><span class="o">[</span><span class="n">y</span><span class="o">].</span><span class="n">length</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
</span><span class='line'>         <span class="n">coord_x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="no">Tile</span><span class="o">::</span><span class="no">WIDTH</span>
</span><span class='line'>         <span class="n">coord_y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">*</span> <span class="no">Tile</span><span class="o">::</span><span class="no">HEIGHT</span>
</span><span class='line'>         <span class="c1"># offset every row</span>
</span><span class='line'>         <span class="n">coord_x</span> <span class="o">+=</span> <span class="p">(</span><span class="no">Tile</span><span class="o">::</span><span class="no">HALF_WIDTH</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span>
</span><span class='line'>         <span class="no">Tile</span><span class="o">::</span><span class="n">draw</span><span class="p">(</span><span class="n">coord_x</span><span class="p">,</span> <span class="n">coord_y</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Which should result in.</p>

<p><img src="/post_images/IsoTutorial/iso_tiles_align_b.png" title="'Another alignment option.'" ></p>

<p>OK, so things should start to be looking right, but we have one more hurdle left the height offset.</p>

<h3>Lining Up The Vertical Tiles Correctly</h3>

<p>Lining up the tiles vertically is very easy we just need to change one line of the code.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">draw</span>
</span><span class='line'>   <span class="vi">@level_data</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">y</span><span class="o">|</span>
</span><span class='line'>      <span class="vi">@level_data</span><span class="o">[</span><span class="n">y</span><span class="o">].</span><span class="n">length</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
</span><span class='line'>         <span class="n">coord_x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="no">Tile</span><span class="o">::</span><span class="no">WIDTH</span>
</span><span class='line'>         <span class="n">coord_y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">*</span> <span class="no">Tile</span><span class="o">::</span><span class="no">HALF_HEIGHT</span> <span class="c1"># multiply by HALF_HEIGHT instead of HEIGHT</span>
</span><span class='line'>         <span class="c1"># offset every row</span>
</span><span class='line'>         <span class="n">coord_x</span> <span class="o">+=</span> <span class="p">(</span><span class="no">Tile</span><span class="o">::</span><span class="no">HALF_WIDTH</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span>
</span><span class='line'>         <span class="no">Tile</span><span class="o">::</span><span class="n">draw</span><span class="p">(</span><span class="n">coord_x</span><span class="p">,</span> <span class="n">coord_y</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>The result should be a nice isometric view.</p>

<p><img src="/post_images/IsoTutorial/iso_tiles_align_c.png" title="'Well Done.'" ></p>

<p>Done! Well almost.</p>

<h3>Heightmaps And Z-Order</h3>

<p>This is really an optional extra, it all depends on what you are trying to achieve. We need to redesign our tile first. It needs to be 6 sided like a hexagon, but it doesn&#8217;t have to be exact.</p>

<p><img src="/post_images/IsoTutorial/iso_height_tile.png" title="'Iso cube.'" ></p>

<p>The depth of this is the same as the height, but you can make it as high as you need. Most of the draw code stays the same, we just need to take in a height value. For the purpose of this tutorial the height is calculated from the array index however in reality you would have a height map which the values of each tile could be loaded. There is also another thing we need to do since we are now drawing tiles on top of each other. We need draw the tiles from back to front so we don’t get any weird drawing effects. In this example we just use the array&#8217;s Y position, this ensures that the tiles are drawn in the correct order.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">draw</span>
</span><span class='line'>   <span class="vi">@level_data</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">y</span><span class="o">|</span>
</span><span class='line'>      <span class="vi">@level_data</span><span class="o">[</span><span class="n">y</span><span class="o">].</span><span class="n">length</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span> <span class="o">|</span><span class="n">x</span><span class="o">|</span>
</span><span class='line'>         <span class="n">coord_x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="no">Tile</span><span class="o">::</span><span class="no">WIDTH</span>
</span><span class='line'>         <span class="n">coord_y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">*</span> <span class="no">Tile</span><span class="o">::</span><span class="no">HALF_HEIGHT</span>
</span><span class='line'>         <span class="n">coord_x</span> <span class="o">+=</span> <span class="p">(</span><span class="no">Tile</span><span class="o">::</span><span class="no">HALF_WIDTH</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># height based on x array index</span>
</span><span class='line'>         <span class="n">coord_y</span> <span class="o">+=</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">5</span>
</span><span class='line'>         <span class="no">Tile</span><span class="o">::</span><span class="n">draw</span><span class="p">(</span><span class="n">coord_x</span><span class="p">,</span> <span class="n">coord_y</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="c1"># &lt;-- Added Z-Order to the draw function.</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>   <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Woot we have a set of weird steps. Enjoy…</p>

<p><img src="/post_images/IsoTutorial/iso_steps.png" title="'Iso steps.'" ></p>

<p>An example of different tiles.</p>

<p><img src="/post_images/IsoTutorial/iso_height_example.png" title="'Iso map.'" ></p>

<p>Full Ruby <a href="http://pastie.org/1635807" title="Full Code">Code</a> (Uses libgosu)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/05/02/texture-importer/">Texture Importers</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-05-02T19:58:00+01:00" pubdate data-updated="true">May 2<span>nd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I wrote these importers (Targa and Bitmap) for OpenGL (Well any API I guess), I originally wrote these for the PS2 because the importer we were given was such a pain to use.</p>

<p><img src="/post_images/SideProjects/texture_loader.png" title="'textures'" ></p>

<p>The Targa was interesting as it has quite a few features in the file spec, the fact you can orientate the image when storing to disc any way you want I found a little unnecessary. Code can be gotten here if you are interested, they are pretty much complete, although they don’t support RLE compression.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/04/25/opengl-tardis/">OpenGL Tardis</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-04-25T19:59:00+01:00" pubdate data-updated="true">Apr 25<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This was my second year coursework for Graphics Programming. I was very disappointed in the module as a whole - I struggle to see the benefit of learning the fixed function pipeline any more, along with every feature of OpenGL that no longer exists. The module felt like it was put together by somebody who didn&#8217;t care, and the claim that we would learn the theory of graphic programming turned out to be marketing speak, for learning next to nothing useful.</p>

<iframe src="http://player.vimeo.com/video/22864220" width="500" height="370" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>


<p>Disappointment of the module aside I was happy enough with outcome of my coursework, I created the models (but not the textures) in <a href="http://www.blender.org/" title="Blender">Blender</a>, and used <a href="http://chumbalum.swissquake.ch/" title="Milkshape">Milkshape</a> to import them (the only model loader I had at the time was a Milkshape one). Milkshape kept flipping the normals on me for some reason, the solution was rather mental, I turned them inside out in Blender and Milkshape flipped them back around.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/04/11/twitter-smilies/">Twitter Smilies</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-04-11T19:55:00+01:00" pubdate data-updated="true">Apr 11<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content">
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/02/01/ps2-tempest/">Playstation 2 Tempest Clone</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-02-01T19:55:00+00:00" pubdate data-updated="true">Feb 1<span>st</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I enjoyed this one :) I made a Tempest 2000 clone for my Playstation 2 coursework. The main purpose for this module was really just general software development, but you got to make a game out of it.</p>

<p><img src="/post_images/Coursework/squall.png" title="'Tempest Clone'" ></p>

<p>Looking back there are so many things wrong with this game, the enemies couldn’t jump from there lanes, which was because I had pretty much coded my self into a corner.</p>

<p>In the process of making this game I wrote a little graphics library to deal with rendering, it was pretty much based on old-school OpenGL as that was what we were leaning at the time.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='cpp'><span class='line'><span class="n">gfx</span><span class="p">.</span><span class="n">gsColor</span><span class="p">(</span><span class="mh">0xFFFFFFFF</span><span class="p">);</span>
</span><span class='line'><span class="n">gfx</span><span class="p">.</span><span class="n">gsBegin</span><span class="p">(</span><span class="n">GS_POINT</span><span class="p">);</span>
</span><span class='line'><span class="n">gfx</span><span class="p">.</span><span class="n">gsVertex3f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span>
</span><span class='line'><span class="n">gfx</span><span class="p">.</span><span class="n">gsEnd</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>The library is pretty slow in all honestly but this was due to the matrix transformations killing the PS2’s CPU, part of the courswork spec was not to use the VU, so I wasn’t able to take advantage of the fast math available.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2011/01/09/bitblt-ninja/">Bitblt Ninja</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2011-01-09T19:56:00+00:00" pubdate data-updated="true">Jan 9<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Graphics programming coursework. This is a clone of <a href="http://en.wikipedia.org/wiki/Fruit_Ninja" title="Fruit Ninja">Fruit Ninja</a>, but with assessment papers instead of fruits.
It was done using Microsoft&#8217;s <a href="http://msdn.microsoft.com/en-us/library/dd183370" title="MSDN">Bitblt</a> function. A bit crude bit it does the job.</p>

<p><img src="/post_images/Coursework/prof_ninja.jpg" title="'Prof Ninja'" ></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/10/24/virtual-texture/">Virtual Texture</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/17/sketchfab/">Sketchfab</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/09/ruby-bezier/">Ruby Bezier</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/08/honors-project/">Honors Project</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/09/group-project/">Thrid Year Group Project</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("philck", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/philck" class="twitter-follow-button" data-show-count="false">Follow @philck</a>
  
</section>


<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/PhilCK">@PhilCK</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'PhilCK',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Phil CK -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'philck';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
